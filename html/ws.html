<!DOCTYPE html>
<html>
  <head>
    <title>WebSocket with Authorization</title>
  </head>
  <body>
    <h1>WebSocket with Authorization</h1>
    <div id="messages"></div>

    <script>
      // Replace 'your_websocket_endpoint' with the actual WebSocket URL
      const websocketUrl = "ws://localhost:6777/ws/chat";

      // Replace 'your_authorization_token' with the actual authorization token
      const authorizationToken =
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2OTA1MjU2MzksInN1YiI6IjcwMDA4MTI5LTA0N2UtNDMyZi1hOTIzLTAwMTVkYjNkZTVjMyJ9.k9WaxYdv7ZvvmIyMX0EjHTGft9WmUB8EJjkOshv0x8I";

      // Connect to the WebSocket endpoint with the authorization header
      const socket = new WebSocket(websocketUrl, [authorizationToken]);

      // Handle incoming messages
      socket.onmessage = function (event) {
        const messagesDiv = document.getElementById("messages");
        messagesDiv.innerHTML += `<p>${event.data}</p>`;
        console.log(event);
      };

      // Handle connection open event
      socket.onopen = function (event) {
        console.log("WebSocket connection opened.", event);
        socket.send("senderId: jkkk");
      };

      // Handle connection error event
      socket.onerror = function (event) {
        console.error("WebSocket error:", event);
      };

      // Handle connection close event
      socket.onclose = function (event) {
        console.log("WebSocket connection closed:", event);
      };
    </script>
  </body>
</html>
