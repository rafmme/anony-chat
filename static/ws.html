<!DOCTYPE html>
<html>
  <head>
    <title>WebSocket with Authorization</title>
  </head>
  <body>
    <h1>WebSocket with Authorization</h1>
    <div id="messages"></div>

    <script>
      // Replace 'your_authorization_token' with the actual authorization token
      const authorizationToken =
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2OTA2OTA4NDYsInN1YiI6IjkyOTMwYzhkLTEyYjktNGNjYy1hNjAxLTBiYmFiNjI1NWNjOCJ9.Wh1JTE5S7EzELrccPa1NgXs351wM_RQGT0valP2M7ec";

      // Replace 'your_websocket_endpoint' with the actual WebSocket URL
      const websocketUrl = `ws://localhost:6777/ws/chat?auth_token=${encodeURI(
        authorizationToken
      )}`;

      // Connect to the WebSocket endpoint with the authorization header
      const socket = new WebSocket(websocketUrl);

      // Handle incoming messages
      socket.onmessage = function (event) {
        const messagesDiv = document.getElementById("messages");
        messagesDiv.innerHTML += `<p>${event.data}</p>`;
        console.log(event);
      };

      // Handle connection open event
      socket.onopen = function (event) {
        console.log("WebSocket connection opened.", event);
        socket.send("senderId: jkkk");
      };

      // Handle connection error event
      socket.onerror = function (event) {
        console.error("WebSocket error:", event);
      };

      // Handle connection close event
      socket.onclose = function (event) {
        console.log("WebSocket connection closed:", event);
      };
    </script>
  </body>
</html>
